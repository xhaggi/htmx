!function(e,t){"function"==typeof define&&define.amd?define(["htmx.org"],t):"object"==typeof module&&module.exports?module.exports=t(require("htmx.org")):t(e.htmx)}("undefined"!=typeof self?self:this,(function(e){return e.defineExtension("preload",{onEvent:function(t,r){if("htmx:afterProcessNode"===t){var n=function(e,t){if(null!=e)return e.getAttribute(t)||e.getAttribute("data-"+t)||n(e.parentElement,t)},o=function(t){var r=function(e){t.preloadAlways||(t.preloadState="DONE"),"true"==n(t,"preload-images")&&(document.createElement("div").innerHTML=e)};return function(){if("READY"===t.preloadState){var n=t.getAttribute("hx-get")||t.getAttribute("data-hx-get");if(n)e.ajax("GET",n,{handler:function(e,t){r(t.xhr.responseText)}});else if(t.getAttribute("href")){var o=new XMLHttpRequest;return o.open("GET",t.getAttribute("href")),o.onload=function(){r(o.responseText)},void o.send()}}}},a=function(t){if(t.getAttribute("href")+t.getAttribute("hx-get")+t.getAttribute("data-hx-get")=="")return;if(void 0!==t.preloadState)return;var r=n(t,"preload")||"mousedown";const a=-1!==r.indexOf("always");switch(a&&(r=r.replace("always","").trim()),t.addEventListener(r,(function(e){"PAUSE"===t.preloadState&&(t.preloadState="READY","mouseover"===r?window.setTimeout(o(t),100):o(t)())})),r){case"mouseover":t.addEventListener("touchstart",o(t)),t.addEventListener("mouseout",(function(e){e.target===t&&"READY"===t.preloadState&&(t.preloadState="PAUSE")}));break;case"mousedown":t.addEventListener("touchstart",o(t))}t.preloadState="PAUSE",t.preloadAlways=a,e.trigger(t,"preload:init")};r.target.querySelectorAll("[preload]").forEach((function(e){a(e),e.querySelectorAll("a,[hx-get],[data-hx-get]").forEach(a)}))}}}),e}));